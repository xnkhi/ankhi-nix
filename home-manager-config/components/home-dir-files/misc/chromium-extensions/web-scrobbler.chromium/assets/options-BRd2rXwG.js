import{d as b,t as m,i as u,f as i,F as L,c as f,a as c,aI as T,e as B,aJ as O,S as w,b as C,g as p,u as R,ar as z,as as N,aK as Q,aL as D,aM as F,a8 as q,G,Q as H,aN as E,aO as J,aP as K,aQ as U,aR as j,aS as V,aB as X,a3 as Y}from"./context-menu-Dl5HivVs.js";const Z="_settings_doo58_21",tt="_settingsContentWrapper_doo58_42",et="_settingsContent_doo58_42",nt="_modal_doo58_76",st="_modalContent_doo58_97",it="_modalClose_doo58_104",v={settings:Z,settingsContentWrapper:tt,settingsContent:et,modal:nt,modalContent:st,modalClose:it},ot="_sidebarWrapper_4cegw_1",at="_sidebar_4cegw_1",rt="_sidebarButton_4cegw_7",ct="_active_4cegw_22",S={sidebarWrapper:ot,sidebar:at,sidebarButton:rt,active:ct},lt=m("<button>"),dt=m("<div><nav>");function x(t){return i(w,{get when(){return O(t.item)},get fallback(){return i(L,{get each(){return t.item.group},children:e=>i(x,{item:e,get activeSetting(){return t.activeSetting},get setActiveSetting(){return t.setActiveSetting}})})},get children(){const e=lt();return e.$$click=()=>T(t.item,t.setActiveSetting),u(e,i(t.item.icon,{}),null),u(e,()=>B(t.item.namei18n),null),f(()=>c(e,S.sidebarButton+(t.activeSetting().namei18n===t.item.namei18n?` ${S.active}`:""))),e}})}function vt(t){return(()=>{const e=dt(),l=e.firstChild;return u(l,i(L,{get each(){return t.items},children:s=>i(x,{item:s,get activeSetting(){return t.activeSetting},get setActiveSetting(){return t.setActiveSetting}})})),f(s=>{const d=S.sidebarWrapper,_=S.sidebar;return d!==s._v$&&c(e,s._v$=d),_!==s._v$2&&c(l,s._v$2=_),s},{_v$:void 0,_v$2:void 0}),e})()}b(["click"]);const ut=m("<div><button type=button>"),y={origins:["http://*/","https://*/"]};function gt(){const[t,e]=C(!0);return mt(e),i(w,{get when(){return!t()},get children(){const l=ut(),s=l.firstChild;return s.$$click=()=>{p.permissions.request(y).then(e)},u(s,()=>B("optionsPermissionsLabel")),f(()=>c(l,R.permissionsPopup)),l}})}async function mt(t){t(await p.permissions.contains(y))}b(["click"]);const _t=m("<div>Loading..."),$t=m("<div><div><div>"),ht=m("<dialog><div></div><button>");function M(){return window.matchMedia("(max-width: 700px)").matches}function ft(){switch(new URLSearchParams(window.location.search).get("p")){case"accounts":return D;case"connectors":return Q}return F}const Ct=ft(),St={savedEdits:V,regexEdits:j,blocklist:U,cacheEdit:K,blockedTags:J,"":()=>_t()};function bt(){const[t,e]=C(Ct),[l,s]=C("");let d;const _=n=>{const o=n.target;if(o instanceof HTMLElement){if(o.closest(`.${v.modal}`)&&!o.classList.contains(v.modal)){n.stopPropagation();return}d?.close()}};document.addEventListener("click",_),q(()=>document.removeEventListener("click",_));const[W,A]=C(M()),I=()=>A(M());return window.addEventListener("resize",I),[i(gt,{}),(()=>{const n=$t(),o=n.firstChild,g=o.firstChild;return u(n,i(w,{get when(){return W()},get fallback(){return i(vt,{items:E,activeSetting:t,setActiveSetting:e})},get children(){return i(H,{items:E,setActiveSetting:e})}}),o),u(g,()=>t().element({setActiveModal:s,modal:d})),f(a=>{const r=v.settings,$=v.settingsContentWrapper,h=v.settingsContent;return r!==a._v$&&c(n,a._v$=r),$!==a._v$2&&c(o,a._v$2=$),h!==a._v$3&&c(g,a._v$3=h),a},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})(),(()=>{const n=ht(),o=n.firstChild,g=o.nextSibling;n.addEventListener("close",()=>s(""));const a=d;return typeof a=="function"?G(a,n):d=n,u(o,i(X,{get component(){return St[l()]}})),g.$$click=()=>d?.close(),u(g,i(Y,{})),f(r=>{const $=v.modal,h=v.modalContent,k=v.modalClose;return $!==r._v$4&&c(n,r._v$4=$),h!==r._v$5&&c(o,r._v$5=h),k!==r._v$6&&c(g,r._v$6=k),r},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),n})()]}const P=document.getElementById("root");if(!P)throw new Error("Root element not found");z(bt,P);N();b(["click"]);
